<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Journey Back to Us</title>
    <!-- Tailwind CSS CDN for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Inter for clean typography -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        /* 3D Card Carousel Styles */
        .carousel-container {
            perspective: 1000px;
            width: 100%;
            height: 500px;
            position: relative;
            margin: 5rem auto;
        }
        
        .carousel {
            width: 100%;
            height: 100%;
            position: absolute;
            transform-style: preserve-3d;
            transition: transform 1s;
        }
        
        .carousel-item {
            position: absolute;
            width: 300px;
            height: 400px;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            transition: all 0.5s;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
            cursor: pointer;
        }
        
        .carousel-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }
        
        .carousel-item:hover img {
            transform: scale(1.05);
        }
        
        .carousel-nav {
            position: absolute;
            bottom: -50px;
            left: 0;
            right: 0;
            text-align: center;
            z-index: 10;
        }
        
        .carousel-nav button {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            margin: 0 10px;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .carousel-nav button:hover {
            background: rgba(239, 68, 68, 0.8);
            transform: scale(1.1);
        }
        
        /* General body styles for a dark, clean look */
        body {
            font-family: 'Inter', sans-serif;
            overflow-x: hidden; /* Prevent horizontal scrolling */
            background-color: #0d0d0d; /* Dark background for contrast */
            color: #e0e0e0;
            scroll-behavior: smooth; /* Smooth scrolling for navigation */
        }

        /* Custom scrollbar for a cleaner look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1a1a1a;
        }
        ::-webkit-scrollbar-thumb {
            background: #4a4a4a;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #6a6a6a;
        }

        /* Keyframes for the ripple animation on the landing page */
        @keyframes ripple {
            0% {
                transform: scale(0.8);
                opacity: 0.7;
            }
            100% {
                transform: scale(1.2);
                opacity: 0;
            }
        }

        .ripple-animation {
            animation: ripple 2s ease-out infinite;
        }

        /* Keyframes for scroll-in elements */
        @keyframes fadeInMoveUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Applying the animation class to elements when they become visible */
        .scroll-in-element.is-visible {
            animation: fadeInMoveUp 0.8s ease-out forwards;
        }

        /* Dream sequence animation keyframes */
        @keyframes embrace {
            0% { transform: translateX(-50px) scale(0.8); opacity: 0; }
            50% { transform: translateX(0) scale(1); opacity: 1; }
            100% { transform: translateX(0) scale(1); opacity: 1; }
        }

        .silhouette-left {
            animation: embrace 2s ease-out forwards;
        }
        .silhouette-right {
            animation: embrace 2s ease-out forwards;
            animation-delay: 0.5s;
        }
        .sitting-together {
            opacity: 0;
            animation: fadeInMoveUp 1.5s ease-out forwards;
            animation-delay: 2.5s;
        }

        /* Custom message box styles */
        .message-box-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            visibility: hidden;
            opacity: 0;
            transition: visibility 0s, opacity 0.3s ease-in-out;
        }
        .message-box-overlay.visible {
            visibility: visible;
            opacity: 1;
        }
        .message-box-content {
            background-color: #2a2a2a;
            padding: 2rem;
            border-radius: 1rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
            text-align: center;
            max-width: 90%;
            width: 400px;
            color: #e0e0e0;
        }
        .message-box-content button {
            background-color: #ef4444; /* Red color */
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            margin-top: 1.5rem;
            transition: background-color 0.3s ease;
        }
        .message-box-content button:hover {
            background-color: #dc2626;
        }

        /* Audio controls styling */
        .audio-controls-container {
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 100;
            background-color: rgba(26, 26, 26, 0.8);
            padding: 0.5rem 1rem;
            border-radius: 0.75rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .audio-controls-container audio {
            width: 150px;
            height: 30px;
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100 min-h-screen">

    <!-- Custom message box overlay for displaying non-blocking alerts -->
    <div id="messageBoxOverlay" class="message-box-overlay">
        <div class="message-box-content">
            <p id="messageBoxText" class="text-lg mb-4"></p>
            <button id="messageBoxCloseBtn">Close</button>
        </div>
    </div>

    <!-- Audio Controls Container - position fixed for easy access -->
    <div class="audio-controls-container" aria-label="Background Music Player">
        <audio id="backgroundMusic" controls autoplay loop>
            <source src="./assest//Untitled song (1).mp3" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>

    </div>

    <!-- Landing Page: The Red Dress -->
    <section id="red-dress" class="relative min-h-screen flex flex-col items-center justify-center text-center p-8 overflow-hidden">
        <!-- Background gradient overlay -->
        <div class="absolute inset-0 bg-gradient-to-br from-gray-900 via-red-900 to-gray-900 opacity-70"></div>
        <!-- Animated ripple effect -->
        <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
            <div class="absolute w-64 h-64 bg-red-500 rounded-full mix-blend-screen ripple-animation" style="filter: blur(50px);"></div>
            <div class="absolute w-80 h-80 bg-red-600 rounded-full mix-blend-screen ripple-animation" style="animation-delay: 0.5s; filter: blur(60px);"></div>
            <div class="absolute w-96 h-96 bg-red-700 rounded-full mix-blend-screen ripple-animation" style="animation-delay: 1s; filter: blur(70px);"></div>
        </div>

        <div class="relative z-10 flex flex-col items-center">
            <!-- Red Dress SVG - a simple, elegant icon for the theme -->
            <svg class="w-48 h-48 md:w-64 md:h-64 mb-8 text-red-400 drop-shadow-lg" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 2c-3.31 0-6 2.69-6 6v2h12V8c0-3.31-2.69-6-6-6zm0 2c2.21 0 4 1.79 4 4v2H8V8c0-2.21 1.79-4 4-4zM4 12v2h16v-2H4zm0 4v6h16v-6H4zm2 2h12v2H6v-2z"/>
            </svg>
            <h1 class="text-3xl md:text-5xl font-bold text-white mb-4 drop-shadow-lg">
                Do you remember the first time I saw you?
            </h1>
            <p class="text-lg md:text-xl text-gray-300 mb-10 max-w-2xl">
                A moment that changed everything. You were sitting on campus, wearing a red dress, and in that moment, I lost my heart.
            </p>
            <button id="startJourneyBtn" class="bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-8 rounded-full shadow-lg transform transition duration-300 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-75">
                Take a Journey
            </button>
        </div>
    </section>

    <!-- Memory Timeline Section -->
    <section id="memory-timeline" class="min-h-screen bg-gray-900 py-20 px-4 md:px-8 relative">
        <div class="container mx-auto max-w-4xl">
            <h2 class="text-4xl md:text-5xl font-bold text-center mb-16 text-red-400">Our Story, Our Memories</h2>

            <!-- New Memory Item: Movie Night -->
            <div class="flex flex-col md:flex-row items-center justify-center md:justify-start mb-24 scroll-in-element">
                <div class="w-32 h-32 md:w-48 md:h-48 flex-shrink-0 bg-red-800 rounded-full flex items-center justify-center mb-6 md:mb-0 md:mr-12 shadow-xl">
                    <svg class="w-20 h-20 md:w-28 md:h-28 text-white" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-2.2-7.3l-2.7-1.4c-.4-.2-.8-.1-1.1.2-.3.3-.4.7-.2 1.1l2.7 1.4c.4.2.8.1 1.1-.2.3-.3.4-.7.2-1.1zm8.3-4.7l-2.7 1.4c-.4.2-.8.1-1.1-.2-.3-.3-.4-.7-.2-1.1l2.7-1.4c.4-.2.8-.1 1.1.2.3.3.4.7.2 1.1zM11.5 15.3l-2.7-1.4c-.4-.2-.8-.1-1.1.2-.3.3-.4.7-.2 1.1l2.7 1.4c.4.2.8.1 1.1-.2.3-.3.4-.7.2-1.1zM15 17c0 .55-.45 1-1 1h-4c-.55 0-1-.45-1-1s.45-1 1-1h4c.55 0 1 .45 1 1zM12 9c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
                    </svg>
                </div>
                <div class="text-center md:text-left">
                    <h3 class="text-3xl font-semibold mb-4 text-white">That Movie Night</h3>
                    <p class="text-lg text-gray-300 max-w-xl">
                        I still remember us watching a movie on April 7th. You looked so beautiful. I couldn’t take my eyes off you—your hair, your smile, the way you looked at the screen. I can never forget your fragrance or the spark in that hug we shared afterward.
                    </p>
                </div>
            </div>

            <!-- Memory Item: Studying Together -->
            <div class="flex flex-col md:flex-row-reverse items-center justify-center md:justify-end mb-24 scroll-in-element">
                <div class="w-32 h-32 md:w-48 md:h-48 flex-shrink-0 bg-red-800 rounded-full flex items-center justify-center mb-6 md:mb-0 md:ml-12 shadow-xl">
                    <svg class="w-20 h-20 md:w-28 md:h-28 text-white" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M21 2H3c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 16H4V6h16v12zm-9-1c0 .55-.45 1-1 1s-1-.45-1-1V9c0-.55.45-1 1-1s1 .45 1 1v8zm4 0c0 .55-.45 1-1 1s-1-.45-1-1V9c0-.55.45-1 1-1s1 .45 1 1v8zM8 9c0-.55.45-1 1-1s1 .45 1 1v8c0 .55-.45 1-1 1s-1-.45-1-1V9z"/>
                    </svg>
                </div>
                <div class="text-center md:text-right">
                    <h3 class="text-3xl font-semibold mb-4 text-white">Studying & Cheese Toast</h3>
                    <p class="text-lg text-gray-300 max-w-xl">
                        I learned so much from you, not just from the books. I still remember the first morning you made me cheese toast, and how you wore the same dress while we studied at night.
                    </p>
                </div>
            </div>

            <!-- Memory Item: Living Together - Updated with new text and heading -->
            <div class="flex flex-col md:flex-row items-center justify-center md:justify-start mb-24 scroll-in-element">
                <div class="w-32 h-32 md:w-48 md:h-48 flex-shrink-0 bg-red-800 rounded-full flex items-center justify-center mb-6 md:mb-0 md:mr-12 shadow-xl">
                    <svg class="w-20 h-20 md:w-28 md:h-28 text-white" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
                    </svg>
                </div>
                <div class="text-center md:text-left">
                    <h3 class="text-3xl font-semibold mb-4 text-white">Our Precious Moments in Manjri</h3>
                    <p class="text-lg text-gray-300 max-w-xl mb-4">
                        Living with you in Manjri after college was the most special time of my life. I remember all those mornings when I would see you before you even put on your makeup – and still, I’d think to myself: My God, she is so beautiful. It hurts now that I never told you these things back then, but even in silence, it was worth it just to be there, just to look at you.
                    </p>
                    <p class="text-lg text-gray-300 max-w-xl">
                        I know I wasn’t the best roommate. You did so much for me, cooked for me, cared for me, and I can never forget it. I miss our little fights, our silly moments in the kitchen, and even the times you weren’t well when I would be so stressed, praying to God for you. Those memories are etched in me forever. There was nothing more comforting than knowing you were just in the next room, and every time I saw you, it felt like my world was right where it needed to be.
                    </p>
                </div>
            </div>

            <!-- Memory Item: Traveling Together - Updated with new content and romantic flair -->
            <div class="flex flex-col md:flex-row-reverse items-center justify-center md:justify-end mb-24 scroll-in-element">
                <div class="w-32 h-32 md:w-48 md:h-48 flex-shrink-0 bg-red-800 rounded-full flex items-center justify-center mb-6 md:mb-0 md:ml-12 shadow-xl">
                    <svg class="w-20 h-20 md:w-28 md:h-28 text-white" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M22 18h-2V7.12c0-2.61-1.91-4.94-4.52-5.06C12.98 1.96 11 4.29 11 6.9V18H2v2h20v-2zM9 7c0-2.76 2.24-5 5-5s5 2.24 5 5v11H9V7z"/>
                    </svg>
                </div>
                <div class="text-center md:text-right">
                    <h3 class="text-3xl font-semibold mb-4 text-white">Adventures with My Cutie Makad</h3>
                    <p class="text-lg text-gray-300 max-w-xl mb-6">
                        Every journey was an adventure, but the best part was always coming back to you. The world felt bigger and brighter with you by my side. I never felt distance as a challenge. I can travel for you from the moon to your place (I know thoda jada ho rha hai, par karu kya mai makad, tu hai mere liye special). You're my cutie little makad, maza bal, maza chidku makad, my baby.
                    </p>
                    <p class="text-lg text-gray-300 max-w-xl">
                        I want to explore so many places with you. I've made a list and I really wanted to go on a trip with you, have a stay in a cozy Airbnb, and spend our cute little time together. Isha baby, let's go for a trip, wherever you say.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Teasing and White T-shirt Section -->
    <section id="white-tshirt" class="min-h-screen flex flex-col items-center justify-center text-center bg-gray-800 py-20 px-4 md:px-8">
        <div class="container mx-auto max-w-3xl scroll-in-element">
            <h2 class="text-4xl md:text-5xl font-bold mb-8 text-red-400">A Confession and a Memory</h2>
            
            <!-- Image Slider Container -->
            <div class="relative w-full max-w-4xl mx-auto mb-8" style="height: 450px;">
                <!-- Slider Track Container -->
                <div style="width: 100%; height: 100%; overflow: hidden; position: relative;">
                    <!-- Slider Track -->
                    <div id="sliderTrack" class="flex transition-transform duration-300 ease-in-out" style="height: 100%;">
                        <!-- Images will be added here by JavaScript -->
                    </div>
                </div>
                
                <!-- Navigation Buttons -->
                <button id="sliderPrev" class="absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 text-white rounded-full w-10 h-10 flex items-center justify-center hover:bg-black/70 transition-colors">
                    &larr;
                </button>
                <button id="sliderNext" class="absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 text-white rounded-full w-10 h-10 flex items-center justify-center hover:bg-black/70 transition-colors">
                    &rarr;
                </button>
                
                <!-- Dots Navigation -->
                <div id="sliderDots" class="flex justify-center mt-4 space-x-2">
                    <!-- Dots will be added by JavaScript -->
                </div>
            </div>
            
            <style>
                #sliderTrack {
                    display: flex;
                    width: 100%;
                    height: 100%;
                    transition: transform 0.5s ease-in-out;
                }
                
                .slider-img-container {
                    min-width: 100%;
                    height: 100%;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    padding: 15px;
                    box-sizing: border-box;
                }
                
                .slider-img {
                    max-width: 100%;
                    max-height: 100%;
                    object-fit: contain;
                    border-radius: 0.75rem;
                    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
                    border: 1px solid rgba(75, 85, 99, 0.5);
                    background-color: #1f2937;
                }
                .slider-img:hover {
                    transform: scale(1.02);
                }
                .slider-dot {
                    width: 10px;
                    height: 10px;
                    border-radius: 50%;
                    background-color: rgba(255, 255, 255, 0.5);
                    cursor: pointer;
                    transition: all 0.3s ease;
                }
                .slider-dot.active {
                    background-color: #fff;
                    transform: scale(1.2);
                }
            </style>
            
            <script>
                document.addEventListener('DOMContentLoaded', () => {
                    const images = [
                        './assest/WhatsApp Image 2025-08-16 at 10.12.16 PM.jpeg',
                        './assest/WhatsApp Image 2025-08-16 at 11.39.47 PM.jpeg',
                        './assest/WhatsApp Image 2025-08-16 at 11.41.13 PM.jpeg',
                        './assest/WhatsApp Image 2025-08-16 at 11.41.41 PM.jpeg',
                        './assest/WhatsApp Image 2025-08-16 at 11.42.54 PM.jpeg',
                        './assest/WhatsApp Image 2025-08-16 at 11.43.42 PM.jpeg',
                        './assest/WhatsApp Image 2025-08-16 at 11.43.56 PM.jpeg',
                        './assest/WhatsApp Image 2025-08-16 at 11.44.19 PM.jpeg',
                        './assest/WhatsApp Image 2025-08-16 at 11.44.43 PM.jpeg'
                    ];
                    
                    const sliderTrack = document.getElementById('sliderTrack');
                    const sliderDots = document.getElementById('sliderDots');
                    let currentSlide = 0;
                    
                    // Create slides
                    images.forEach((src, index) => {
                        // Create container for each slide
                        const slideContainer = document.createElement('div');
                        slideContainer.className = 'slider-img-container';
                        
                        // Add image to container
                        const img = document.createElement('img');
                        img.src = src;
                        img.alt = `Memory ${index + 1}`;
                        img.className = 'slider-img';
                        
                        // Add image to container, then container to track
                        slideContainer.appendChild(img);
                        sliderTrack.appendChild(slideContainer);
                        
                        // Create dot
                        const dot = document.createElement('div');
                        dot.className = 'slider-dot' + (index === 0 ? ' active' : '');
                        dot.addEventListener('click', () => goToSlide(index));
                        sliderDots.appendChild(dot);
                    });
                    
                    // Navigation functions
                    function goToSlide(index) {
                        if (index < 0) index = images.length - 1;
                        if (index >= images.length) index = 0;
                        
                        currentSlide = index;
                        const translateX = -currentSlide * 100;
                        sliderTrack.style.transform = `translateX(${translateX}%)`;
                        
                        // Update active dot
                        document.querySelectorAll('.slider-dot').forEach((dot, i) => {
                            dot.classList.toggle('active', i === currentSlide);
                        });
                    }
                    
                    // Event listeners
                    document.getElementById('sliderPrev').addEventListener('click', () => {
                        goToSlide(currentSlide - 1);
                    });
                    
                    document.getElementById('sliderNext').addEventListener('click', () => {
                        goToSlide(currentSlide + 1);
                    });
                    
                    // Keyboard navigation
                    document.addEventListener('keydown', (e) => {
                        if (e.key === 'ArrowLeft') goToSlide(currentSlide - 1);
                        if (e.key === 'ArrowRight') goToSlide(currentSlide + 1);
                    });
                    
                    // Auto-advance slides (optional)
                    // setInterval(() => goToSlide(currentSlide + 1), 5000);
                });
            </script>
            
            <p class="text-sm text-gray-400 mb-6">
                (A screenshot from my phone, of our photo from the last time we were together.)
            </p>
            
            <p class="text-lg md:text-xl text-gray-200 mb-6">
                I used to tease you, sometimes a little too much. I'm truly sorry for those moments when I went too far. I never meant to hurt you. The last time I saw you, you were wearing a white t-shirt. I remember wishing I could turn back time, just to hold onto that moment a little longer.
            </p>
            <p class="text-lg md:text-xl text-gray-200 mb-6">
                My bike broke down right after we parted. That bike always felt connected to you. I wonder if you felt embarrassed by it. If you want, we can go choose any bike you like. Honestly, I don't want to do these things without you. I just want to be with you again.
            </p>
            <p class="text-lg md:text-xl text-gray-200">
                These past months have been incredibly hard. My blood pressure and migraines got worse, and I even had to go to the doctor because things became serious. I even had to tell my mom about us. That’s how much I love you – I couldn’t hide it anymore. She was so understanding and cared for me, but now she also takes regular medicines for her own blood pressure and migraines, and it breaks my heart. I feel so lonely and lost without you.
            </p>
        </div>
    </section>

    <!-- Dream Sequence Section -->
    <section id="dream-sequence" class="min-h-screen flex flex-col items-center justify-center text-center bg-gray-950 py-20 px-4 md:px-8 relative overflow-hidden">
        <!-- Starry background effect -->
        <div class="absolute inset-0 z-0 opacity-50" style="background-image: radial-gradient(circle at 50% 50%, #0a0a0a 0%, #000 100%);">
            <div class="absolute inset-0" style="background-image: url('data:image/svg+xml,%3Csvg width=\'100%25\' height=\'100%25\' viewBox=\'0 0 100 100\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Ccircle cx=\'20\' cy=\'20\' r=\'0.5\' fill=\'white\'/%3E%3Ccircle cx=\'80\' cy=\'40\' r=\'0.7\' fill=\'white\'/%3E%3Ccircle cx=\'50\' cy=\'70\' r=\'0.6\' fill=\'white\'/%3E%3Ccircle cx=\'10\' cy=\'90\' r=\'0.4\' fill=\'white\'/%3E%3Ccircle cx=\'90\' cy=\'10\' r=\'0.8\' fill=\'white\'/%3E%3Ccircle cx=\'35\' cy=\'55\' r=\'0.5\' fill=\'white\'/%3E%3Ccircle cx=\'65\' cy=\'25\' r=\'0.7\' fill=\'white\'/%3E%3Ccircle cx=\'25\' cy=\'75\' r=\'0.6\' fill=\'white\'/%3E%3Ccircle cx=\'75\' cy=\'95\' r=\'0.4\' fill=\'white\'/%3E%3Ccircle cx=\'45\' cy=\'5\' r=\'0.8\' fill=\'white\'/%3E%3C/svg%3E'); background-size: 100px 100px; animation: twinkle 10s infinite alternate;"></div>
        </div>
        <script>
            // Simple twinkle animation for stars
            const styleSheet = document.createElement("style");
            styleSheet.type = "text/css";
            styleSheet.innerText = `@keyframes twinkle { 0% { opacity: 0.7; } 50% { opacity: 0.3; } 100% { opacity: 0.7; } }`;
            document.head.appendChild(styleSheet);
        </script>

        <div class="relative z-10 container mx-auto max-w-3xl">
            <h2 class="text-4xl md:text-5xl font-bold mb-12 text-red-400 scroll-in-element">My Dreams of You</h2>
            <div class="relative w-full max-w-md mx-auto h-64 md:h-80 flex items-center justify-center mb-12 bg-black bg-opacity-30 rounded-xl shadow-2xl overflow-hidden">
                <!-- Silhouettes and animated embrace -->
                <svg class="absolute w-full h-full" viewBox="0 0 400 200" preserveAspectRatio="xMidYMid meet">
                    <path class="text-gray-400 silhouette-left" fill="currentColor" d="M100 180 Q120 100 100 20 Q80 100 100 180 Z" />
                    <path class="text-gray-400 silhouette-right" fill="currentColor" d="M300 180 Q280 100 300 20 Q320 100 300 180 Z" />
                    <!-- Sitting together silhouette appears after embrace -->
                    <g class="sitting-together text-gray-300">
                        <path fill="currentColor" d="M150 180 C130 150 130 120 150 100 C170 80 230 80 250 100 C270 120 270 150 250 180 Z" />
                        <circle cx="170" cy="90" r="15" fill="currentColor" />
                        <circle cx="230" cy="90" r="15" fill="currentColor" />
                    </g>
                </svg>
            </div>
            <p class="text-lg md:text-xl text-gray-200 mb-6 scroll-in-element">
                For the past month, you’ve been in my dreams almost every night. I see you running into my arms, hugging me, and we're just sitting together—peaceful and close.
            </p>
            <p class="text-lg md:text-xl text-gray-200 scroll-in-element">
                Those dreams feel so real, but waking up without you is so painful. I miss you more than words can say.
            </p>
        </div>
    </section>

    <!-- Final Message & Call to Action -->
    <section id="final-message" class="min-h-screen flex flex-col items-center justify-center text-center bg-gray-800 py-20 px-4 md:px-8">
        <div class="container mx-auto max-w-3xl scroll-in-element">
            <h2 class="text-4xl md:text-5xl font-bold mb-8 text-red-400">My Deepest Wish</h2>
            <p class="text-lg md:text-xl text-gray-200 mb-6">
                I want to wake up from this dream and live this reality with you again. I want to build a new journey, with new memories, and I want to go bowling, play badminton, and just hang out with you. I want to build it all with you by my side.
            </p>
            <!-- Start of new paragraph -->
            <p class="text-lg md:text-xl text-gray-200 mb-6">
                Every morning when I pray, I don’t ask for anything else – not success, not money – only you. Truly, Bala, the only wish I’ve had in these months, through my interviews and my health struggles, is you.
            </p>
            <!-- End of new paragraph -->
            <p class="text-lg md:text-xl text-gray-200 mb-10">
                I even got a new job recently, but there was no one to share that moment with. Without you, it felt empty. If I had known that our last hug would be the final one, I would have never let you go. I feel incomplete without you.I miss you and I'am sorry
            </p>
            <!-- Mailto link for direct contact -->
            <a href="mailto:your_email@example.com?subject=Let's Talk" class="inline-block bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-8 rounded-full shadow-lg transform transition duration-300 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-75">
                Let's Talk
            </a>
            <p class="text-sm text-gray-400 mt-8">
                (This will open your email client)
            </p>
        </div>
    </section>

    <script>
        // Function to show the custom message box
        function showMessageBox(message) {
            const overlay = document.getElementById('messageBoxOverlay');
            const text = document.getElementById('messageBoxText');
            text.textContent = message;
            overlay.classList.add('visible');
        }

        // Function to hide the custom message box
        function hideMessageBox() {
            const overlay = document.getElementById('messageBoxOverlay');
            overlay.classList.remove('visible');
        }

        // 3D Carousel Functionality
        document.addEventListener('DOMContentLoaded', () => {
            // Image paths from assets folder
            const images = [
                './assest/WhatsApp Image 2025-08-16 at 10.12.16 PM.jpeg',
                './assest/WhatsApp Image 2025-08-16 at 11.39.47 PM.jpeg',
                './assest/WhatsApp Image 2025-08-16 at 11.41.13 PM.jpeg',
                './assest/WhatsApp Image 2025-08-16 at 11.41.41 PM.jpeg',
                './assest/WhatsApp Image 2025-08-16 at 11.42.54 PM.jpeg',
                './assest/WhatsApp Image 2025-08-16 at 11.43.42 PM.jpeg',
                './assest/WhatsApp Image 2025-08-16 at 11.43.56 PM.jpeg',
                './assest/WhatsApp Image 2025-08-16 at 11.44.19 PM.jpeg',
                './assest/WhatsApp Image 2025-08-16 at 11.44.43 PM.jpeg'
            ];

            const carousel = document.getElementById('carousel');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            let currentIndex = 0;

            // Create carousel items
            function createCarousel() {
                carousel.innerHTML = '';
                const itemCount = images.length;
                const angleIncrement = (Math.PI * 2) / itemCount;
                const radius = Math.min(500, window.innerWidth * 0.6);

                images.forEach((src, index) => {
                    const item = document.createElement('div');
                    item.className = 'carousel-item';
                    
                    const img = document.createElement('img');
                    img.src = src;
                    img.alt = `Memory ${index + 1}`;
                    img.loading = 'lazy';
                    
                    item.appendChild(img);
                    carousel.appendChild(item);
                    
                    // Position items in a circle
                    const angle = index * angleIncrement;
                    const x = Math.sin(angle) * radius;
                    const z = Math.cos(angle) * radius - radius;
                    
                    item.style.transform = `translate3d(calc(-50% + ${x}px), -50%, ${z}px) rotateY(${angle}rad)`;
                    item.style.opacity = '0.8';
                    
                    // Make current item more prominent
                    if (index === currentIndex) {
                        item.style.opacity = '1';
                        item.style.zIndex = '10';
                    }
                });
            }

            // Rotate carousel
            function rotateCarousel() {
                const items = document.querySelectorAll('.carousel-item');
                const itemCount = items.length;
                const angleIncrement = (Math.PI * 2) / itemCount;
                const radius = Math.min(500, window.innerWidth * 0.6);

                items.forEach((item, index) => {
                    const angle = (index * angleIncrement) - (currentIndex * angleIncrement);
                    const x = Math.sin(angle) * radius;
                    const z = Math.cos(angle) * radius - radius;
                    
                    item.style.transform = `translate3d(calc(-50% + ${x}px), -50%, ${z}px) rotateY(${angle}rad)`;
                    item.style.opacity = Math.abs(angle) < 1 ? '1' : '0.6';
                    item.style.zIndex = Math.abs(angle) < 0.5 ? '10' : '1';
                });
            }

            // Navigation
            prevBtn.addEventListener('click', () => {
                currentIndex = (currentIndex - 1 + images.length) % images.length;
                rotateCarousel();
            });

            nextBtn.addEventListener('click', () => {
                currentIndex = (currentIndex + 1) % images.length;
                rotateCarousel();
            });

            // Handle keyboard navigation
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') {
                    currentIndex = (currentIndex - 1 + images.length) % images.length;
                    rotateCarousel();
                } else if (e.key === 'ArrowRight') {
                    currentIndex = (currentIndex + 1) % images.length;
                    rotateCarousel();
                }
            });

            // Initialize carousel
            createCarousel();
            
            // Handle window resize
            window.addEventListener('resize', () => {
                createCarousel();
                rotateCarousel();
            });

            // Wait for the DOM to be fully loaded before running JavaScript
            // Event listener for the "Start Journey" button to smooth scroll
            const startJourneyBtn = document.getElementById('startJourneyBtn');
            if (startJourneyBtn) {
                startJourneyBtn.addEventListener('click', () => {
                    document.getElementById('memory-timeline').scrollIntoView({ behavior: 'smooth' });
                });
            }

            // Event listener for the message box close button
            const messageBoxCloseBtn = document.getElementById('messageBoxCloseBtn');
            if (messageBoxCloseBtn) {
                messageBoxCloseBtn.addEventListener('click', hideMessageBox);
            }

            // Intersection Observer for scroll-in animations
            const observerOptions = {
                root: null, // viewport as the root
                rootMargin: '0px',
                threshold: 0.1 // 10% of the element must be visible
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        // Optional: stop observing once the animation has played
                        // observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            // Observe all elements with the 'scroll-in-element' class
            document.querySelectorAll('.scroll-in-element').forEach(element => {
                observer.observe(element);
            });

            // Handle browser autoplay policy by attempting to play music on first user interaction
            const backgroundMusic = document.getElementById('backgroundMusic');
            if (backgroundMusic) {
                // Try to start music on initial load (may be blocked)
                backgroundMusic.play().catch(e => {
                     console.error("Autoplay failed on load:", e);
                });

                // Listen for any click on the body to try and play again
                document.body.addEventListener('click', () => {
                    if (backgroundMusic.paused) {
                        backgroundMusic.play().catch(e => {
                            console.error("Autoplay failed on click:", e);
                            showMessageBox("Music autoplay was blocked by the browser. Please use the music controls to play it.");
                        });
                    }
                }, { once: true }); // Only run this event listener once
            }
        });
    </script>
</body>
</html>
